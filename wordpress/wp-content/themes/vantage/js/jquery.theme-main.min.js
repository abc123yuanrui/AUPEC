jQuery(function(d){d("body.no-js").removeClass("no-js"),d(".entry-content .flexslider:not(.metaslider .flexslider), #metaslider-demo.flexslider, .gallery-format-slider").flexslider({namespace:"flex-vantage-"}),void 0!==d.fn.fitVids&&"undefined"!=typeof vantage&&(vantage.fitvids,1)&&d(".entry-content, .entry-content .panel, .entry-video, .woocommerce #main, #masthead-widgets, #header-sidebar").fitVids({ignore:".tableauViz"});var e=d("body").hasClass("so-vantage-mobile-device"),n=d("body").hasClass("so-vantage-customizer-preview"),t=d("nav.site-navigation.primary").hasClass("mobile-navigation");(!e&&d("#scroll-to-top").hasClass("scroll-to-top")||n||e)&&(d(window).on("scroll",function(){150<d(window).scrollTop()?d("#scroll-to-top").addClass("displayed"):d("#scroll-to-top").removeClass("displayed")}),d("#scroll-to-top").on("click",function(){return d("html, body").animate({scrollTop:"0px"}),!1})),d(".vantage-carousel").each(function(){function l(){u<0&&(u=0),u>=i.find(".carousel-entry").length-1&&(u=i.find(".carousel-entry").length-1,s||o||(s=!0,a++,i.append('<li class="loading"></li>'),d.get(i.data("ajax-url"),{query:i.data("query"),action:"vantage_carousel_load",paged:a},function(e,n){var t=d(e.html).find(".carousel-entry").appendTo(i).hide().fadeIn().length;r+=t,0===t?(o=!0,i.find(".loading").fadeOut(function(){d(this).remove()})):i.find(".loading").remove(),s=!1}))),i.css("transition-duration","0.45s"),i.css("margin-left",-f*u+"px")}var i=d(this),e=i.closest(".widget").find(".widget-title"),n=i.find(".carousel-entry"),t=n.eq(0),u=0,a=1,s=!1,o=!1,r=n.length,f=t.width()+parseInt(t.css("margin-right"));e.find("a.previous").on("click",function(){return u-=1,l(),!1}),e.find("a.next").on("click",function(){return u+=1,l(),!1});var h,m=!1,g=0,v=0,p=0,y=0;i.swipe({excludedElements:"",triggerOnTouchEnd:!0,threshold:75,swipeStatus:function(e,n,i,a,t,s,o){if("start"===n)v=-f*u,y=(new Date).getTime(),clearInterval(h);else if("move"===n){"left"===i&&(a*=-1),w(v+a);var r=(new Date).getTime();p=(a-g)/((r-y)/1e3),y=r,g=a}else if("end"===n)if(m=!0,"left"===i&&(a*=-1),400<Math.abs(p)){p*=.1;var d=(new Date).getTime(),c=0;h=setInterval(function(){var e=((new Date).getTime()-d)/1e3,n=v+a+(c+=p*e),t=Math.abs(p)-30<0;"left"===i?p+=30:p-=30,!t&&w(n)||(clearInterval(h),b())},20)}else b();else"cancel"===n&&l()}});var w=function(e){return e<50&&-f*r<e&&(i.css("transition-duration","0s"),i.css("margin-left",e+"px"),!0)},b=function(){var e=parseInt(i.css("margin-left"));u=Math.abs(Math.round(e/f)),l()};i.on("click","li.carousel-entry .thumbnail a",function(e){m&&(e.preventDefault(),m=!1)})}),d(".menu-item").children("a").on("focusin",function(){d(this).parents("li").addClass("focus")}),d(".menu-item").children("a").on("click",function(){d(this).parents("li").removeClass("focus")}),d(".menu-item").children("a").on("focusout",function(){d(this).parents("li").removeClass("focus")}),d("#header-sidebar .widget_nav_menu","#masthead-widgets .widget_nav_menu").on("mouseenter","ul.menu li",function(){d(this).find("> ul").finish().css("opacity",0).hide().slideDown(200).animate({opacity:1},{queue:!1,duration:200})}).on("mouseleave","ul.menu li",function(){d(this).find("> ul").finish().fadeOut(150)});var i=!1;d(document).on("click",function(){i||d("#search-icon form").fadeOut(250)});var a=navigator.userAgent.toLowerCase();if(d(document).on("click keydown","#search-icon-icon",function(e){if("keydown"==e.type){if(13!==e.keyCode)return;e.preventDefault()}var n=d(this).parent();n.find("form").fadeToggle(250),a.match(/(iPad|iPhone|iPod)/i)?n.find('input[type="search"]').trigger("focus"):setTimeout(function(){n.find('input[type="search"]').trigger("focus")},300)}),d(document).on("keyup",function(e){27==e.keyCode&&d("#search-icon form").fadeOut(250)}),d(document).on("mouseenter","#search-icon",function(){i=!0}).on("mouseleave","#search-icon",function(){i=!1}),d(window).on("resize",function(){d("#search-icon .searchform").each(function(){d(this).width(d(this).closest(".full-container").width())})}).trigger("resize"),d("nav.site-navigation.primary").hasClass("use-sticky-menu")&&!e||(e||n)&&t){function s(){c.hasClass("sticky")||(o=c.offset().top,r=c.width());var e=0;d("body").hasClass("admin-bar")&&(e="absolute"==d("#wpadminbar").css("position")?0:d("#wpadminbar").outerHeight()),parseInt(o-d(window).scrollTop())<e?(c.addClass("sticky"),d("body").addClass("sticky-menu"),d("#masthead").css("padding-bottom",c.innerHeight()),l&&c.width(r)):c.hasClass("sticky")&&(d("#masthead").css("padding-bottom",0),c.removeClass("sticky"),d("body").removeClass("sticky-menu"),l&&c.width("auto"))}var o,r,c=d("nav.site-navigation.primary"),l=d("body.mega-menu-primary.layout-boxed").length;d(window).on("scroll resize",s),s()}d('body.layout-full #main-slider[data-stretch="true"]').each(function(){var e=d(this);e.find(">div").css("max-width","100%"),e.find(".slides li").each(function(){var e=d(this),n=e.find("img.ms-default-image").eq(0);n.length||(n=e.find("img").eq(0)),e.css("background-image","url("+n.attr("src")+")"),n.css("visibility","hidden"),e.wrapInner('<div class="full-container"></div>');var i=e.find("a");i.length&&(e.on("mouseenter",function(){e.css("cursor","hand")}),e.on("mouseout",function(){e.css("cursor","pointer")}),e.on("click",function(e){e.preventDefault();var n=d(e.target),t=n.is("a")?n:i;window.open(t.attr("href"),t.attr("target"))}))})}),d("#header-sidebar").each(function(){var n=d(this),t=0;if(n.find("> aside").each(function(){var e=(n.outerHeight()-n.find("> aside").outerHeight())/2;t<e&&(t=e)}),15<t?n.css({"padding-top":t,"padding-bottom":t}):(t=15-t,d("#masthead .logo > *").css({"padding-top":t,"padding-bottom":t})),n.hasClass("no-logo-overlay")){function e(){n.closest("#masthead").removeClass("force-responsive");var e=d("#masthead .logo").find("h1, img");n.offset().left<e.offset().left+e.outerWidth()&&n.closest("#masthead").addClass("force-responsive")}d(window).on("resize",e),e()}}),d("#colophon #footer-widgets .widget_nav_menu a").each(function(){d(this);var e=10*d(this).parents(".sub-menu").length+"px";d(this).css("padding-left",e)})});